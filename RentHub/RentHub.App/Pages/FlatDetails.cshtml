@page
@model RentHub.App.Pages.FlatDetailsModel
@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <title>Квартиры</title>
    <link href="~/css/MainPage.css" rel="stylesheet"/>
    <link href="~/css/RentersList.css" rel="stylesheet" />
</head>
<body>
    <div id="side-bar">
        <p id="main-text">Недвижимость</p>

        <form class="menu-item" method="get" action="/MainFlats">
            <img src="~/img/side-bar/House 1.svg" alt="404" />
            <button type="submit" name="FlatsBtn">Квартиры</button>
        </form>

        <form class="menu-item" method="get" action="/Reservations">
            <img src="~/img/side-bar/Calendar 1.svg" alt="404" />
            <button type="submit">Бронирования</button>
        </form>

        <form class="menu-item" method="get" action="/RentersList">
            <img src="~/img/side-bar/users 1.svg" alt="404" />
            <button type="submit" name="CustomersBtn">Жильцы</button>
        </form>

        <form class="menu-item" method="get">
            <img src="~/img/side-bar/chart-no-axes-column 1.svg" alt="404" />
            <button type="submit" name="recordsBtn">Отчетность</button>
        </form>
    </div>

    <div id="main-content-main-page">
        <div class="top-bar">
            <a href="#"><img src="~/img/userIcon.svg" alt="Фотка иконки юзера" /></a>
            <a href="#"><img src="~/img/bell.svg" alt="Фотка иконки уведомлений" /></a>
        </div>
        <div class="flats-card-container" id="flatsContainer">
            @if (Model.Flat != null)
            {
                <div class="flat-card renter-card" style="width: 100%">
                    <form method="post" enctype="multipart/form-data" class="flat-form">
                        <input type="hidden" asp-for="Flat.FlatId" />

                        <div class="renter-info-container form-group">
                            <label>Страна:</label>
                            <input type="text" asp-for="Flat.Country" />
                        </div>

                        <div class="renter-info-container form-group">
                            <label>Город:</label>
                            <input type="text" asp-for="Flat.City" />
                        </div>

                        <div class="renter-info-container form-group">
                            <label>Район:</label>
                            <input type="text" asp-for="Flat.District" />
                        </div>

                        <div class="renter-info-container form-group">
                            <label>Номер дома:</label>
                            <input type="text" asp-for="Flat.HouseNumber" />
                        </div>

                        <div class="renter-info-container form-group">
                            <label>Номер квартиры:</label>
                            <input type="text" asp-for="Flat.ApartmentNumber" />
                        </div>

                        <div class="renter-info-container form-group">
                            <label>Комнат:</label>
                            <input type="number" asp-for="Flat.RoomCount" min="1" />
                        </div>

                        <div class="renter-info-container form-group">
                            <label>Площадь (м²):</label>
                            <input type="number" asp-for="Flat.Size" step="0.1" />
                        </div>

                        <div class="renter-info-container form-group">
                            <label>Этаж:</label>
                            <input type="number" asp-for="Flat.FloorNumber" />
                        </div>

                        <div class="renter-info-container form-group">
                            <label>Этажей в доме:</label>
                            <input type="number" asp-for="Flat.FloorsNumber" />
                        </div>

                        <div class="renter-info-container form-group">
                            <label>Описание:</label>
                            <textarea asp-for="Flat.Description"></textarea>
                        </div>

                        <div class="renter-info-container form-group photo-section">
                            <label>Фото:</label>
                            @if (Model.Flat.Photo != null)
                            {
                                <img src="data:image/jpeg;base64,@Convert.ToBase64String(Model.Flat.Photo)" alt="Фото квартиры" class="flat-photo" />
                            }
                            <input type="file" asp-for="PhotoUpload" style="display:flex;margin-top:10px;" />
                        </div>

                        <div class="form-buttons submit-row">
                            <button type="submit" class="submit-btn">Сохранить</button>
                        </div>
                    </form>
                </div>
            }
            else
            {
                <div class="no-flats">
                    <p>Квартира не найдены</p>
                </div>
            }
        </div>
    </div>
</body>
</html>
